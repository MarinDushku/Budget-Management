<UserControl x:Class="BudgetManagement.Views.UserControls.BudgetBalanceChartUserControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:oxy="http://oxyplot.org/wpf"
             FontFamily="Segoe UI Variable, Segoe UI, Verdana, Tahoma, sans-serif"
             FontSize="16">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Chart Title removed - handled by parent card -->

        <!-- Line Chart -->
        <oxy:PlotView Grid.Row="1" 
                      Model="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=LineChartModel}" 
                      Height="200"
                      MinHeight="180"
                      Background="Transparent"
                      Margin="0,12,0,8"/>

        <!-- Summary Statistics -->
        <StackPanel Grid.Row="2" Margin="0,16,0,0">
            <UniformGrid Columns="3">
                <!-- Best Day -->
                <Border Background="{StaticResource SurfaceElevatedBrush}" 
                        BorderBrush="{StaticResource AccentGreenBrush}"
                        BorderThickness="1"
                        CornerRadius="6" 
                        Padding="12,8" 
                        Margin="0,0,4,0">
                    <StackPanel HorizontalAlignment="Center">
                        <TextBlock Text="Best Day" 
                                   FontFamily="Segoe UI Variable, Segoe UI, Verdana, Tahoma, sans-serif"
                                   FontSize="12" 
                                   FontWeight="Medium"
                                   Foreground="{StaticResource SecondaryTextBrush}"
                                   HorizontalAlignment="Center"
                                   TextOptions.TextRenderingMode="ClearType"/>
                        <TextBlock Text="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=BestDayBalance, StringFormat=C}" 
                                   FontFamily="Segoe UI Variable, Segoe UI, Verdana, Tahoma, sans-serif"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource AccentGreenBrush}"
                                   HorizontalAlignment="Center"
                                   TextOptions.TextRenderingMode="ClearType"
                                   Margin="0,4,0,0"/>
                    </StackPanel>
                </Border>
                
                <!-- Worst Day -->
                <Border Background="{StaticResource SurfaceElevatedBrush}" 
                        BorderBrush="{StaticResource DangerRedBrush}"
                        BorderThickness="1"
                        CornerRadius="6" 
                        Padding="12,8" 
                        Margin="2,0">
                    <StackPanel HorizontalAlignment="Center">
                        <TextBlock Text="Worst Day" 
                                   FontFamily="Segoe UI Variable, Segoe UI, Verdana, Tahoma, sans-serif"
                                   FontSize="12" 
                                   FontWeight="Medium"
                                   Foreground="{StaticResource SecondaryTextBrush}"
                                   HorizontalAlignment="Center"
                                   TextOptions.TextRenderingMode="ClearType"/>
                        <TextBlock Text="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=WorstDayBalance, StringFormat=C}" 
                                   FontFamily="Segoe UI Variable, Segoe UI, Verdana, Tahoma, sans-serif"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource DangerRedBrush}"
                                   HorizontalAlignment="Center"
                                   TextOptions.TextRenderingMode="ClearType"
                                   Margin="0,4,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Current Balance -->
                <Border Background="{StaticResource SurfaceElevatedBrush}" 
                        BorderBrush="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=CurrentBalanceColor}"
                        BorderThickness="1"
                        CornerRadius="6" 
                        Padding="12,8" 
                        Margin="4,0,0,0">
                    <StackPanel HorizontalAlignment="Center">
                        <TextBlock Text="Current" 
                                   FontFamily="Segoe UI Variable, Segoe UI, Verdana, Tahoma, sans-serif"
                                   FontSize="12" 
                                   FontWeight="Medium"
                                   Foreground="{StaticResource SecondaryTextBrush}"
                                   HorizontalAlignment="Center"
                                   TextOptions.TextRenderingMode="ClearType"/>
                        <TextBlock Text="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=CurrentBalance, StringFormat=C}" 
                                   FontFamily="Segoe UI Variable, Segoe UI, Verdana, Tahoma, sans-serif"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=CurrentBalanceColor}"
                                   HorizontalAlignment="Center"
                                   TextOptions.TextRenderingMode="ClearType"
                                   Margin="0,4,0,0"/>
                    </StackPanel>
                </Border>
            </UniformGrid>
        </StackPanel>
    </Grid>
</UserControl>